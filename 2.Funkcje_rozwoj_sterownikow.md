# Funkcje i rozwój sterowników

## Poruszane tematy:
###  1. Budowa wewnętrzna sterownika
###  2. Zasada pracy sterownika
###  3. Zapis i odczyt danych

## 1. Budowa wewnętrzna sterownika

### Jednostka PLC składa się z następujących elementów:
- jednostka centralna (CPU)
- pamięć
- moduły wejścia
- moduły wyjścia
- modył komunikacji
- moduł zasilania

### Jednostka centralna - CPU
Główny komponent każdego sterownika PLC. Odpowiedzialna za pracę sterownika, prawidłową obsługę modułów rozszerzeń, wykonywanie programu sterującego i komunikację z osobą programującą. 
Najważniejszym elementem jednostkiu centralnej jest mikroprocesor, którego parametry narzucają możliwości sterownika i jego specyfikację np.:

- ilość zmiennych wejściowych i wyjściowych
- maksymalna ilość obsługiwanych modułów rozszerzeń
- szybkość działania sterownika - parametr określający tę wartość wyraża się jako czas cyklu programowego np. jako liczbę wykonywanych instrukcji na jednostkę czas.
- rozmiar pamięci przeznaczonej na dane użytkownika jak i dla programu
- możliwość korzystania z funkcji specjalnych do których należą m.in operacje zmiennoprzecinkowe
- możliwości komunikacyjne np. obsługa funkcji sieci LAN 

### Pamięć
Element kluczowy do działania CPU. Przechowuje ona program sterujący oraz dane użytkownika.

#### Stosowane rodzaje pramięci 
- RAM - ang. Random Access Memory - stosowana jako pamięć operacyjna, chcarakteryzuje się dużymi prędkościami odczytu i zapisu. Po odłączeniu zasilania traci swoją zawartość. Z tej przyczyny stosuje się dodatkową baterię, by ta zastąpiła zasilanie gdy go brakuje.
- PROM - ang. Programmable Read Only-Memory - programowalna pamięć służąca jedynie do odczytu. Jej nadpisanie polega na przepaleniu złączy wewnątrz pamięci. Stosuje się matryce oporowe i tranzystorowe. W tych pierwszych oporniki są przepalane na rozwarcie, co oznacza zaprogramowanie zera logicznego. Tranzysotry zaś przepalane są na zwarcie, co jest równoznaczne z zaprogramowaniem jedynki logicznej.
- EEPROM - ang Electrically Erasable Programmable Read-Only Memory - programowalna pamięć służąca do odczytu, którą programuje i wymazuje się elektrycznie. W przeciwieństwie do pamięci typu PROM można ją również nadpisywać. Nie wymaga podtrzymania zasilania jak pamięć typu RAM. Wykorzystywana jako pamięć programu ale równiez jako pamięć do przechowywania kopii zapasowych.
- FLASH EPROM - ang. Flash Erasable Programmable Read-Only Memeory - typ pamięci będący rozwinięciem technologii EEPROM. Stosowana tam, gdzie EEPROM, ale również jako nośnik kopii danych, które można przenosić między sterownikami np. w postaci kart SD.

### Moduły wejścia
Dzielimy je na cyfrowe i analogowe. Te pierwsze pobierają dane w postaci binarnej (1/0), a te drugie w postaci sygnałów ciągłych np. wartość temperatury, wagi, wychylenia. 

#### Moduły wejścia cyfrowe
Stanowią kluczowy element interfejsu komunikacji między elementami zewnętrznego systemu sterowania a CPU. Opowiedzialne są za konwersję sygnałów zmiennych lub stałych pochodzących z urządzeń zewnętrznych na sygnały cyfrowe, zrozumiałe dla jednostki centralnej.
Spotyka się moduły zasilane prądem stałym, gdzie najczęściej zeru logicznemu odpowiada 0V, a jedynce 24V, oraz zasilane prądem przemiennym, które poziom logiczny dostosowują do wartości napięcia sieci energetycznej.
Często spotyka się zastosowanie separacji galwanicznej (tj. rozwiązanie, w którym prąd z jednego bloku elektrycznego nie przepływał bezpośrenio do drugiego bloku) między układami zewnętrznymi a główną magistralą sterownika PLC. W tym celu stosuje się transportery dla prądu stałego i optoizolatory dla prądu przemiennego.

#### Wejścia analogowe
Ich zadaniem jest tłumaczenie otrzymanych sygnałów analogowych na sygnały cyfrowe, zrozumiałem przez jednostkę centralną. Głównym elementem tego modułu jest przetownik analogowo-cyfrowy, przekazujący dalej dyskretną postać odebranego sygnału wejściowego. Dokonuje on kwantyzacji najczęściej na 16 bitach. Często spotykanymi rozdzielczościami takiego przetwornika to od 12 do 16 bitów.
Stosuje się wiele sygnałów analogowych. Oto kilka przykładów:
- ###### sygnały napięciowe:
    - 

### Moduły wyjścia
Podobnie jak wejścia, dzielimy je ze względnu na rodzaj danych, które z nich można otrzymać - cyfrowe i analogowe. Służą do sterowania urządzeniami wykonawczymi autoamtyki np. styki, regulatory, elektrozawody, układy kontrolne.

#### Wyjścia cyfrowe

#### Wyjścia analogowe


### Moduł komunikacji

### Moduł zasilania
Element odpowiedzialny za dostarczenie energii niezbędnej do pracy sterownika. Może stanowić osobną część, ale również spotyka się zasilacze zintegraowne w obudowie sterownika. Stosuje się na ogół układy przystosowane do zasilania napięciem stałym 24V, ale również spotykane są konstrukcje mogące zasilać sterownik bezpośrednio z sieci energetycznej o napięciu zmiennym 230V lub 110V (zalezy to od systemu energetycznego kraju).
Jako zasilacz często stosuje się zasilacze impulsowe, które charakteryzują się następującymi cechami:

- dużą stabilizacją napięcia wyjściowego
- wysoką sprawnością przetwornicy napięcia zmiennego na napięcie stałe
- dużą mocą w stosunku do małych gabarytów
- wbudowanymi zabezpieczeniami zapobiegającymi przepięciom i przeciążeniom
- spełnianiem wielu norm, pozwalającym na pracę w trudnych warunkach jak i kompatybilność elektromagnetyczną

Zasilacze stosowane w sterownikach są często dedykowane do projektowanych konstrukcji, przez co ich koszt jest dość spory.

źródła:
- Marcin Pawlak - Serowniki programowalen
- Jacek Barański - Separacja galwaniczna w nowoczesnych przyrządach i systemach pomiarowych
- https://pl.wikipedia.org/wiki/Pami%C4%99%C4%87_flash 
- https://pl.wikipedia.org/wiki/Zasilacz_impulsowy
- https://www.ebmia.pl/wiedza/porady/automatyka-porady/sterownik-plc-budowa-rodzaje-zastosowanie/
- http://www.pkeopk.sep.com.pl/jurata2008/Baranski_Separacja.pdf


